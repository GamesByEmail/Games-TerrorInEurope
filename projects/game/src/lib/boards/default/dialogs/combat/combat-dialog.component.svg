<svg viewBox="0 0 420 405" width=420 height=405 xmlns="http://www.w3.org/2000/svg">
  <g svg-dialog-title>
    <text x="210" text-anchor="middle">Combat</text>
  </g>
  <g [style.display]="hideFor(tAttack)">
    <text x="210" y="50" text-anchor="middle">The {{data.attacker.title}} have discovered the {{defender!.title}} in</text>
    <text x="210" y="70" text-anchor="middle">{{defender!.territory!.title}} and must combat them.</text>
  </g>
  <g [style.display]="showFor(tAttack)">
    <text x="210" y="50" text-anchor="middle">The Terrorist has attacked Operatives in</text>
    <text x="210" y="70" text-anchor="middle">{{defender!.territory!.title}} and must combat them.</text>
  </g>
  <use x="100" y="115" [attr.href]="meepleHref()" [style]="meepleStyle()"/>
  <text x="75" y="90"  [style.display]="showFor(data.attacker.team.strength)" class="stengthText">{{data.attacker.team.strength}}</text>
  <use x="250" y="115" [attr.href]="meepleHref(0)" [style]="meepleStyle(0)"/>
  <text x="225" y="90" [style.display]="showFor(defenderStrength(0))" class="stengthText">{{defenderStrength(0)}}</text>
  <use x="385" y="115" [attr.href]="meepleHref(1)" [style]="meepleStyle(1)"/>
  <text x="360" y="90" [style.display]="showFor(defenderStrength(1))" class="stengthText">{{defenderStrength(1)}}</text>
  <use x="320" y="115" [attr.href]="meepleHref(2)" [style]="meepleStyle(2)"/>
  <text x="295" y="90" [style.display]="showFor(defenderStrength(2))" class="stengthText">{{defenderStrength(2)}}</text>

  <g [style.display]="showFor(!rolls &amp;&amp; !defender)" transform="translate(15 200)">
    <text>Pick a defender.</text>
  </g>

  <g [style.display]="showFor(rolls)" transform="translate(0 185)">
    <g transform="translate(60 0)">
      <use [attr.href]="dieHref('a')" [attr.style]="dieStyle('a')"/>
      <text x="35" class="modifierText"> + {{rolls &amp;&amp; rolls.a.m}} = {{rolls &amp;&amp; rolls.a.t}}</text>
    </g>
    <g [attr.transform]="'translate('+(210+defenderIndexToPlace(0)*35)+' 0)'">
      <use [attr.href]="dieHref('d')" [attr.style]="dieStyle('d')"/>
      <text x="35" class="modifierText"> + {{rolls &amp;&amp; rolls.d.m}} = {{rolls &amp;&amp; rolls.d.t}}</text>
   </g>
  </g>

  <g [style.display]="showFor(rolls &amp;&amp; rolls.t.d&gt;0)" transform="translate(210 240)">
    <text [style.display]="showFor(rolls &amp;&amp; rolls.t.s&gt;0)" text-anchor="middle">The Terrorist lost {{rolls &amp;&amp; rolls.t.d}} strength and is now at {{rolls &amp;&amp; rolls.t.s}} strength.</text>
    <text [style.display]="showFor(rolls &amp;&amp; rolls.t.s===0)" text-anchor="middle">The Terrorist lost {{rolls &amp;&amp; rolls.t.d}} strength and was killed.</text>
  </g>
  <g [style.display]="showFor(rolls &amp;&amp; rolls.o.d&gt;0)" transform="translate(210 240)">
    <text [style.display]="showFor(rolls &amp;&amp; rolls.o.s&gt;0)" text-anchor="middle">The Operative lost {{rolls &amp;&amp; rolls.o.d}} strength and is now at {{rolls &amp;&amp; rolls.o.s}} strength.</text>
    <text [style.display]="showFor(rolls &amp;&amp; rolls.o.s===0)" text-anchor="middle">The Operative lost {{rolls &amp;&amp; rolls.o.d}} strength and was killed.</text>
  </g>

  <g [style.display]="showFor(!rolls &amp;&amp; defender)" transform="translate(15 360)">
    <text>Push the button, Max.</text>
  </g>

  <g svg-dialog-action>
    <g svg-dialog-button="flat" width="180" (click)="close()">
      <text [style.display]="hideFor(rolls)">Roll For Combat</text>
      <text [style.display]="showFor(rolls)">{{data.attacker.team.strength===0 ? "Done" : "Next"}}</text>
    </g>
  </g>
</svg>